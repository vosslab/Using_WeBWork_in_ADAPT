<p>
This chapter provides a complete, copy-and-edit example of a PGML-first WeBWorK problem written in
a science-friendly style. The goal is to show the smallest amount of PG setup needed to support a
clear PGML prompt.
</p>

<h2>How to read the file (structure)</h2>
<p>
Most problems can be read as a small number of sections. If you keep your own files in this
structure, you will debug faster and reuse patterns more reliably.
</p>
<ol>
	<li>Optional tagging and description comments (for humans and indexing).</li>
	<li>Initialization: <code>DOCUMENT();</code> and <code>loadMacros(...);</code>.</li>
	<li>Setup: contexts, random values, and answer objects.</li>
	<li>Text: the PGML prompt between <code>BEGIN_PGML</code> and <code>END_PGML</code>.</li>
	<li>Optional hint/solution blocks, then <code>ENDDOCUMENT();</code>.</li>
</ol>

<h2>Example: PCR mix concentration calculation</h2>
<p>
In a wet-lab workflow, students often prepare reaction mixes from stock solutions. This problem
asks for a final concentration in a PCR reaction after adding a small volume of a primer stock and
bringing the reaction to a final volume. The story stays fixed and only the numeric values change.
</p>

<h3>Annotated skeleton (copy-edit target)</h3>
<pre>
# 1) Tagging/description (optional)

# 2) Initialization (required)
DOCUMENT();
loadMacros(...);

# 3) Setup (keep small)
Context("Numeric");
# ... random values ...
# ... answer object + grader ...

# 4) Text (PGML prompt)
BEGIN_PGML
... story, data, and task ...
... attach answers to blanks ...
END_PGML

# 5) Optional hint/solution blocks, then end
ENDDOCUMENT();
</pre>

<h3>Complete PG file (template)</h3>
<pre>
DOCUMENT();

loadMacros(
	"PGstandard.pl",
	"MathObjects.pl",
	"PGML.pl",
	"PGcourse.pl",
);

Context("Numeric");

$c_stock = random(5, 20, 5);     # uM (primer stock)
$v_stock = random(1, 5, 1);      # uL (pipetted primer volume)
$v_final = random(20, 50, 5);    # uL (final reaction volume)

$c_final = Real($c_stock * $v_stock / $v_final);
$c_final->cmp(tolType => "absolute", tol => 0.05);

BEGIN_PGML
You are setting up a PCR reaction. You have a primer stock solution with concentration
[`c_{stock} = [$c_stock]`] &mu;M. You add [`V_{stock} = [$v_stock]`] &mu;L of the primer stock and
bring the total reaction volume to [`V_{final} = [$v_final]`] &mu;L.

What is the final primer concentration [`c_{final}`] in &mu;M?

[`c_{final} = `] [________]{$c_final} &mu;M
END_PGML

ENDDOCUMENT();
</pre>

<h2>Why this example is PGML-first</h2>
<ul>
	<li>PG setup defines only the randomized values and the answer checker.</li>
	<li>PGML contains the full prompt, with variables substituted into the text.</li>
	<li>The answer blank includes the answer object right next to the question.</li>
</ul>

<h2>How to adapt this example</h2>
<ul>
	<li>Change the story and keep the math.</li>
	<li>Keep units explicit in the prompt.</li>
	<li>Add a second part only when it helps learning, not because it is possible.</li>
	<li>If you need a table of measurements, use the table helpers rather than ad-hoc HTML.</li>
</ul>

<h2>Quick copy-edit checklist</h2>
<ul>
	<li>Keep the story stable and change only a few values.</li>
	<li>Keep units explicit in the prompt and next to the answer blank.</li>
	<li>Attach answers to blanks in PGML so multi-part prompts stay aligned with grading.</li>
	<li>Preview multiple variants to catch randomization and rounding issues.</li>
</ul>

<p>{{template.ShowOrg()}}</p>
